<head>

    <title>PDFTron Regression Tool</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

   

</body>

<template name="layout">
  {{> navigation}}
  {{> yield "body"}}
  {{> footer}}
</template>

<template name="navigation">
 <!-- Navigation -->
      <div class="navbar-fixed">
    <nav>
      <div class="nav-wrapper">
        <a href="PDFTron_logo_cropped.svg" class="brand-logo">
          <img class="logo" src="PDFTron_logo_cropped.svg" alt="logo">
        </a>  
        <form>
        <div class="input-field search">
          {{> inputAutocomplete settings=settings id="legend" class="form-control" name="legend" placeholder="Legend" }}
          <label for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
      </form>
      </div>
    </nav>
  </div>
</template>

<template name="maincontent">
<!-- Page Content -->
    <div class="container-fluid main-container">
      <div id="sidebar-wrapper" class="col-lg-3 col-md-3 col-xs-6">
        <div id="sidebar">
          {{> focus_document}}
        </div>
      </div>
      <div class="col-lg-9 col-lg-offset-3 col-md-9 col-md-offset-3 col-xs-6 col-xs-offset-6">
        <div class="row">
            {{> documents}}
        </div>
      </div>
    </div>
    <!-- /.container -->
</template>

<template name="focus_document">
  {{#with focus_document}}
  <div class="panel-wrapper">
    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">Document name</span>
        <p>{{document_name}}</p>
      </div>
    </div>

    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">Extension</span>
        <p>{{ext}}</p>
      </div>
    </div>

    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">Path</span>
        <p>{{path}}</p>
      </div>
    </div>

    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">Reference versions</span>
        <span class="new badge red card-title " data-badge-caption=" refs">{{num_refs references}}</span>
        <div class="panel-body">
          <p>
            {{#each arrayify references}}
            <span class="chip">{{key}}</span>
            {{/each}}
          </p>
        </div>
      </div>
    </div>

    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">Tags</span>
        <span class="new badge blue card-title" data-badge-caption=" tags">{{num_tags tags}}</span>
        <div class="panel-body">
          <p>
            {{#each tags}}
              <span class="chip">{{this}}</span>
            {{/each}}
          </p>
        </div>
      </div>
    </div>

  </div>
  {{/with}}
</template>

<template name="documents">
<div class="row">
    {{#each documents}}
    {{> document}}
    {{/each}}
    </div>
</template>

<template name="document">
  <div class="col-lg-5ths col-md-5ths col-xs-12 thumb-doc" id={{hash}}>
    <div class="thumbnail-head">
      <div class = "doc-caption">
        {{document_name}}
      </div>
    </div>
    <div class="thumbnail">
      {{#if thumb_page_version}}
      <a class="thumbnail-link js-thumb-click" href="#">
        <img class="img-responsive" src='/thumb?version={{thumb_page_version}}&hash={{thumb_page_hash}}' alt="">
      </a>
      {{else}}
      <a class="thumbnail-link" href="#">
        <img class="img-responsive" src="images/missing.png" alt="">
      </a>
      {{/if}}
    </div>
  </div>
</template>

<template name="footer">
<!-- Footer -->
      <footer>
          <div class="row">
              <div class="col-lg-12">
                  <p>Copyright &copy; Your Website 2014</p>
              </div>
          </div>
      </footer>
</template>

<template name="references">
  {{#each arrayify references}}
  <h2> {{key}} </h2>
  {{> reference obj}}
  {{/each}}
</template>

<template name="reference">
  <p>Hash: {{hash}}</p>
  <p>Version: {{version}}</p>
  <p>Type: {{type}}</p>

  <p> ------PAGEs----- </p>
  {{> pages}}

  <p> ------Diffs-------</p>
  {{> diffs}}
</template>

<template name="pages"> 
  {{#each arrayify pages}}
  <h3> Page number: {{key}} </h3>
  {{> page obj}}
  {{/each}}
</template>

<template name="page">
  <p> Page number: {{page_num}}</p>
  <p> Path: {{path}} </p>
</template>

<template name="diffs">
{{#each arrayify diffs}}
<h3> Version: {{key}} </h3>
{{> diff obj}}
{{/each}}
</template>

<template name="diff">
  <p>Hash: {{hash}}</p>
  <p>Version: {{version}}</p>
  <p>Num page diffs: {{num_page_diffs}}</p>
  <p>----------PAGEs-----------</p>
  {{> pages}}

  <p>----------Metrics----------</p>
  {{> metrics}}
</template>

<template name="metrics">
  {{#each arrayify metrics}}
  <h3> Page number: {{key}} </h3>
  {{> metric obj}}
  {{/each}}
</template>

<template name="metric">
  <p> Ref version: {{ref_version}}</p>
  <p> Tar version: {{tar_version}}</p>
  <p> Diff %: {{diff_percentage}}</p>
</template>

<template name="document_pill">
  <p> class="search-ret">
    {{document_name}}
  </p>
</template>
